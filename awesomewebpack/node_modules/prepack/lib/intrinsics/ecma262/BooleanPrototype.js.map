{"version":3,"sources":["../../../src/intrinsics/ecma262/BooleanPrototype.js"],"names":["realm","obj","$BooleanData","intrinsics","false","tsTemplateSrc","tsTemplate","defineNativeMethod","context","target","getType","createFromTemplate","b","thisBooleanValue","value"],"mappings":";;;;;;kBAgBe,UAASA,KAAT,EAAuBC,GAAvB,EAA+C;AAC5D;AACAA,MAAIC,YAAJ,GAAmBF,MAAMG,UAAN,CAAiBC,KAApC;;AAEA,QAAMC,gBAAgB,gBAAtB;AACA,QAAMC,aAAa,uBAAwBD,aAAxB,CAAnB;;AAEA;AACAJ,MAAIM,kBAAJ,CAAuB,UAAvB,EAAmC,CAAnC,EAAsCC,WAAW;AAC/C,UAAMC,SAASD,wCAAiCA,QAAQN,YAAzC,GAAwDM,OAAvE;AACA,QAAIC,0CAAmCA,OAAOC,OAAP,0BAAvC,EAA0E;AACxE,aAAO,qBAAcC,kBAAd,CAAiCX,KAAjC,EAAwCM,UAAxC,sBAAiE,CAACG,MAAD,CAAjE,EAA2EJ,aAA3E,CAAP;AACD;AACD;AACA,QAAIO,IAAI,eAAGC,gBAAH,CAAoBb,KAApB,EAA2BQ,OAA3B,CAAR;;AAEA;AACA,WAAO,uBAAgBR,KAAhB,EAAuBY,EAAEE,KAAF,GAAU,MAAV,GAAmB,OAA1C,CAAP;AACD,GAVD;;AAYA;AACAb,MAAIM,kBAAJ,CAAuB,SAAvB,EAAkC,CAAlC,EAAqCC,WAAW;AAC9C;AACA,WAAO,eAAGK,gBAAH,CAAoBb,KAApB,EAA2BQ,OAA3B,CAAP;AACD,GAHD;AAID,C;;AA7BD;;AACA;;AACA","file":"BooleanPrototype.js","sourcesContent":["/**\n * Copyright (c) 2017-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow strict-local */\n\nimport type { Realm } from \"../../realm.js\";\nimport { ObjectValue, StringValue, AbstractValue, BooleanValue } from \"../../values/index.js\";\nimport { To } from \"../../singletons.js\";\nimport buildExpressionTemplate from \"../../utils/builder.js\";\n\nexport default function(realm: Realm, obj: ObjectValue): void {\n  // ECMA262 19.3.1\n  obj.$BooleanData = realm.intrinsics.false;\n\n  const tsTemplateSrc = \"(A).toString()\";\n  const tsTemplate = buildExpressionTemplate(tsTemplateSrc);\n\n  // ECMA262 19.3.3.3\n  obj.defineNativeMethod(\"toString\", 0, context => {\n    const target = context instanceof ObjectValue ? context.$BooleanData : context;\n    if (target instanceof AbstractValue && target.getType() === BooleanValue) {\n      return AbstractValue.createFromTemplate(realm, tsTemplate, StringValue, [target], tsTemplateSrc);\n    }\n    // 1. Let b be ? thisBooleanValue(this value).\n    let b = To.thisBooleanValue(realm, context);\n\n    // 2. If b is true, return \"true\"; else return \"false\".\n    return new StringValue(realm, b.value ? \"true\" : \"false\");\n  });\n\n  // ECMA262 19.3.3.4\n  obj.defineNativeMethod(\"valueOf\", 0, context => {\n    // 1. Return ? thisBooleanValue(this value).\n    return To.thisBooleanValue(realm, context);\n  });\n}\n"]}