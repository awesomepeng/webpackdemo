{"version":3,"sources":["../../src/values/ECMAScriptSourceFunctionValue.js"],"names":["t","ECMAScriptSourceFunctionValue","constructor","realm","intrinsicName","getName","uniqueTag","$ECMAScriptCode","uniqueOrderedTag","__originalName","hasDefaultLength","params","$FormalParameters","expected","length","i","param","isAssignmentPattern","isRestElement","getLength"],"mappings":";;;;;;AAcA;;AACA;;IAAYA,C;;AACZ;;;;;;;;AAEA;AAlBA;;;;;;;;;AAmBe,MAAMC,6BAAN,wCAAoE;AACjFC,cAAYC,KAAZ,EAA0BC,aAA1B,EAAkD;AAChD,UAAMD,KAAN,EAAaC,aAAb;AACD;;AASD;AACAC,YAAkB;AAChB,UAAMC,YAAc,KAAKC,eAAP,CAAmDC,gBAArE;AACA;AACA,6BAAUF,SAAV;AACA,WAAO,KAAKG,cAAL,GAAsB,KAAKA,cAA3B,GAA6C,KAAIH,SAAU,EAAlE;AACD;;AAEDI,qBAA4B;AAC1B,QAAIC,SAAS,KAAKC,iBAAlB;AACA,QAAIC,WAAWF,OAAOG,MAAtB;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIJ,OAAOG,MAA3B,EAAmCC,GAAnC,EAAwC;AACtC,UAAIC,QAAQL,OAAOI,CAAP,CAAZ;AACA,UAAIf,EAAEiB,mBAAF,CAAsBD,KAAtB,KAAgChB,EAAEkB,aAAF,CAAgBF,KAAhB,CAApC,EAA4D;AAC1DH,mBAAWE,CAAX;AACA;AACD;AACF;AACD,WAAOF,aAAa,KAAKM,SAAL,EAApB;AACD;AA/BgF;kBAA9DlB,6B","file":"ECMAScriptSourceFunctionValue.js","sourcesContent":["/**\n * Copyright (c) 2017-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\n\nimport type { Realm } from \"../realm.js\";\nimport type { BabelNodeBlockStatement, BabelNodeSourceLocation, BabelNodeLVal } from \"babel-types\";\nimport type { FunctionBodyAstNode } from \"../types.js\";\nimport { ECMAScriptFunctionValue } from \"./index.js\";\nimport * as t from \"babel-types\";\nimport invariant from \"../invariant\";\n\n/* Non built-in ECMAScript function objects with source code */\nexport default class ECMAScriptSourceFunctionValue extends ECMAScriptFunctionValue {\n  constructor(realm: Realm, intrinsicName?: string) {\n    super(realm, intrinsicName);\n  }\n\n  $Strict: boolean;\n  $FormalParameters: Array<BabelNodeLVal>;\n  $ECMAScriptCode: BabelNodeBlockStatement;\n  $HasComputedName: ?boolean;\n  $HasEmptyConstructor: ?boolean;\n  loc: ?BabelNodeSourceLocation;\n\n  // Override.\n  getName(): string {\n    const uniqueTag = ((this.$ECMAScriptCode: any): FunctionBodyAstNode).uniqueOrderedTag;\n    // Should only be called after the function is initialized.\n    invariant(uniqueTag);\n    return this.__originalName ? this.__originalName : `f#${uniqueTag}`;\n  }\n\n  hasDefaultLength(): boolean {\n    let params = this.$FormalParameters;\n    let expected = params.length;\n    for (let i = 0; i < params.length; i++) {\n      let param = params[i];\n      if (t.isAssignmentPattern(param) || t.isRestElement(param)) {\n        expected = i;\n        break;\n      }\n    }\n    return expected === this.getLength();\n  }\n}\n"]}